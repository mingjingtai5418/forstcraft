import{_ as o,c as h,o as c,ah as m,J as n,j as l,k as d,ai as f,aj as u}from"./chunks/framework.BDK_jGvS.js";import{V as p}from"./chunks/theme.CuJ1GlVH.js";class b{constructor(e){this.relativePath=e,this.url=null,this.ws=null,this.intervalId=null,this.listeners=new Array(4),this.time=0n,this.buf=new ArrayBuffer(12)}connect(){this.ws&&this.ws.close();const e=new WebSocket(this.url);e.binaryType="arraybuffer",e.onopen=()=>{this.intervalId=setInterval(()=>{this.sendMessage(0)},2e4)},e.onmessage=t=>{const s=t.data,r=new DataView(s);this.listeners[r.getInt32(8)](r.getBigInt64(),new DataView(s,12))},e.onclose=()=>{this.listeners=null,clearInterval(this.intervalId),this.intervalId=null},e.onerror=t=>{console.error("WebSocket error:",t)},this.ws=e}sendMessage(e,t=this.time){if(this.ws&&this.ws.readyState===WebSocket.OPEN){const s=new DataView(this.buf);s.setBigInt64(0,t),s.setInt32(8,e),this.ws.send(this.buf)}else console.error("WebSocket is not connected")}addListener(e,t){this.listeners[e]=t}setUrl(e){const t=new URL(this.relativePath,e.origin);t.protocol=t.protocol==="https:"?"wss:":"ws:",this.url=t.href,this.relativePath=null}}const a=new b("/mc/home"),g=new TextDecoder("utf-8");class k{constructor(e){this.index=0,this.mspt=e.mspt10.map(t=>(t/10).toFixed(1)),this.ram=e.ram,this.entities=e.entities,this.chunks=e.chunks,this.inb=(e.inb/1024).toFixed(2),this.oub=(e.oub/1024).toFixed(2)}}const I={data(){return{Mark:{TIMEOUT:-1,LOADING:0,ONLINE:1,OFFLINE:2},basic:null,cache:null,players:null,basicTime:0n,playerTime:0n,intervalId:null,tick:0,mark:0}},methods:{handleOffline(i){this.basicTime<i&&(a.time=this.basicTime=i,this.mark!==this.Mark.OFFLINE&&(this.mark=this.Mark.OFFLINE,this.basic=this.cache=null),this.tick=-190)},handleBasicInfo(i,e){if(this.basicTime<i){this.basicTime=i;const t={};t.mspt10=new Array(10);for(let s=0;s<10;++s)t.mspt10[s]=e.getInt16(s<<1);t.ram=new Int16Array(10);for(let s=0;s<10;++s)t.ram[s]=e.getInt16(20+(s<<1));t.entities=e.getInt32(40),t.chunks=e.getInt32(44),t.inb=e.getInt32(48),t.oub=e.getInt32(52),this.cache=t}},handlePlayerInfo(i,e){this.playerTime<i&&(a.time=this.playerTime=i,this.players=JSON.parse(g.decode(e)))},clear(){clearInterval(this.intervalId),this.intervalId=null,a.ws?.close()},tickBasic(){const i=++this.tick,e=this.cache;this.mark===this.Mark.ONLINE&&i<10&&this.basic!==null?this.basic.index=i:e!==null?(this.basic=new k(e),this.cache=null,this.mark=this.Mark.ONLINE,this.tick=0):i>16&&(this.mark===this.Mark.ONLINE||this.mark===this.Mark.OFFLINE)?(this.mark=this.Mark.LOADING,this.basic=null,a.sendMessage(0,this.basicTime)):i>100&&this.mark!==this.Mark.TIMEOUT&&(this.mark=this.Mark.TIMEOUT,this.basic=this.cache=this.players=null,this.clear())}},mounted(){a.setUrl(window.location),a.addListener(0,this.handleOffline),a.addListener(1,this.handleBasicInfo),a.addListener(2,this.handlePlayerInfo),a.connect(),this.intervalId=setInterval(this.tickBasic,100)},beforeDestroy(){this.clear()}},_=o(I,[["__scopeId","data-v-1ace33ce"]]),y=JSON.parse('{"title":"üé• ÊúçÂä°Âô®ÂÆ£‰º†ËßÜÈ¢ë","description":"","frontmatter":{"layout":"home","hero":{"name":"FrostCraftÊúçÂä°Âô®","text":"MC 1.21 ÂÖ®ÁâàÊú¨ÁîüÂ≠òÊúç","tagline":"ÊúçÂä°Âô®Âú∞ÂùÄ:orwoe.cn","actions":[{"theme":"brand","text":"ÊúçÂä°Âô®‰ªãÁªç","link":"/guide/"},{"theme":"alt","text":"Âç´ÊòüÂú∞Âõæ","link":"http://map.orwoe.cn/"},{"theme":"brand","text":"Ê£ÄÊéßÈù¢Êùø","link":"http://plan.orwoe.cn/"}]},"features":[{"title":"üéÆ ÂÖ®ÁâàÊú¨ÊîØÊåÅ","details":"ÊîØÊåÅ Minecraft 1.21 ÊâÄÊúâÁâàÊú¨ÔºåJavaÁâàÂíåÂü∫Â≤©ÁâàÂùáÂèØÂä†ÂÖ•"},{"title":"üõ°Ô∏è Á®≥ÂÆöËøêËê•","details":"24/7 ‰∏çÈó¥Êñ≠ËøêË°åÔºå‰∏ì‰∏öÊúçÂä°Âô®Á°¨‰ª∂‰øùÈöú"},{"title":"üë• ÂèãÂ•ΩÁ§æÂå∫","details":"Ê¥ªË∑ÉÁöÑÁé©ÂÆ∂Á§æÂå∫ÔºåÂÆöÊúü‰∏æÂäûÊ¥ªÂä®ÂíåÊØîËµõ"},{"title":"üîß ÂéüÂàõÊèí‰ª∂","details":"Áã¨ÂÆ∂ÂºÄÂèëÁöÑÂäüËÉΩÊèí‰ª∂ÔºåÊèêÂçáÊ∏∏Êàè‰ΩìÈ™å"},{"title":"üí∞ ÂÆåÂÖ®ÂÖçË¥π","details":"Êó†ÈúÄ‰ªª‰Ωï‰ªòË¥πÔºåÁ∫ØÂÖ¨ÁõäÊúçÂä°Âô®"},{"title":"üì± ‰æøÊç∑ÁÆ°ÁêÜ","details":"ÊîØÊåÅÁΩëÈ°µÁÆ°ÁêÜÈù¢ÊùøÔºåÈöèÊó∂ÈöèÂú∞ÁÆ°ÁêÜÊ∏∏Êàè"}]},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),w={name:"index.md"},T=Object.assign(w,{setup(i){const e=[{avatar:"/team/MY.jpg",name:"MGyue_",title:"ÁªÉ‰π†Êó∂Èïø‰∏§Âπ¥Âçä"},{avatar:"/team/LU.jpg",name:"lullaby_ouo",title:"ÁìúÁ±ªÈâ¥Âà´ÂÆ∂"},{avatar:"/team/YUS.jpg",name:"Y_u_S",title:"Â§ßÊó•Êú¨ÂèåÊñôÈ´òÁ∫ßÁâπÂ∑•"},{avatar:"/team/b_29eeeQC.jpg",name:"QQCCQQLLQQ",title:"70Â§öÂ≤ÅÊ≠¶Â≠¶Â§ßÂ∏à"},{avatar:"/team/FU.jpg",name:"fusces_",title:"ÁæéÈ£üÂÆ∂"},{avatar:"/team/xiaobai.jpg",name:"xiaobai23345",title:"Áß¶ÂßãÁöáÂùêÈ™ë"}];return(t,s)=>(c(),h("div",null,[s[0]||(s[0]=m("",7)),n(_),s[1]||(s[1]=l("h2",{style:{"text-align":"center","line-height":"2.0","font-size":"250%"}},[l("b",null,"Ëøê Áª¥ Âõ¢ Èòü")],-1)),n(d(p),{size:"medium",members:e})]))}});export{y as __pageData,T as default};
